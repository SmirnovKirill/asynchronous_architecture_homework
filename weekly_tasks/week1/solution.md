1. **Разобрать каждое требование на составляющие (актор, команда, событие, query). Определить, как все бизнес цепочки будут выглядеть и на какие шаги 
они будут разбиваться.**
    * *Новые таски может создавать кто угодно (администратор, начальник, разработчик, менеджер и любая другая роль).* Актор - пользователь создающий 
таску. Команда - создание таски. Событие - task_create. Данные - информация о таске (включая айди, но не включая стоимость).
    * *Менеджеры или администраторы должны иметь кнопку «заассайнить задачи», которая возьмёт все открытые задачи и рандомно заассайнит каждую на 
любого из сотрудников (кроме менеджера и администратора).* Актор - пользователь. Команда - реассайн. Событие - task_assign по количеству тасок,
возможно tasks_reassign (потому что бизнесово оно есть, но для выполнения требований нам не нужно). Данные - все открытые таски и все не 
руководящие пользователи.
    * *Каждый сотрудник должен иметь возможность видеть в отдельном месте список заассайненных на него задач + отметить задачу выполненной.* Актор - 
пользователь. Команда - закрыть таску. Событие - task_resolve. Данные - таска + текущий пользователь.
    * *У каждого из сотрудников должен быть свой счёт, который показывает, сколько за сегодня он получил денег. У счёта должен быть аудитлог того, за
что были списаны или начислены деньги, с подробным описанием каждой из задач.* Актор - сам пользователь если он закрывает задачу или руководящий 
пользователь если это реассайн (списание) или крон если это выплата денег за день. Команда - изменить баланс. Событие - account_log_change, 
manager_income_by_day_change (это агрегация данных, нужно будет для аналитики). Данные - таски, пользователи.
2. **Построить модель данных для системы и модель доменов.**
   * Домен - сервис аутентификации. Там таблица *user* - user_id, role.
   * Домен - трекер. Использует домен аутентификации. 
Есть своя таблица *task* - task_id, title, description, status (IN_PROGRESS/DONE), assignee_user_id.
   * Домен - аккаунтинг. Использует домены аутентификации и трекера. Свои таблицы:
     1. *account* - account_id, user_id, balance.
     2. *account_log* - log_id, account_id, type (DEPOSIT/WITHDRAW,CLEAR).
     3. *task_price* - task_price_id, task_id, assign_fee, resolve_price.
     4. *manager_income_by_day* (табличка агрегирующая данные по менеджерам компании за день) - income_id, date, total_assign_fee, total_resolve_price.
   * Домен - аналитика. Использует все другие домены. Свои таблицы:
     1. *company_data_by_day* (агрегирующая инфа по компании за день) - data_id, date, total_assign_fee, total_resolve_price, negative_balance_account_count.
     2. *remarkable_task_by_day* (самые интересные таски за день) - data_id, date, most_expensive_resolved_task_price.
3. **Определить, какие общие данные нужны для разных доменов и как связаны данные между разными доменами.**
    То что нужно прямо в каждом сервисе - домен сервиса аутентификации. А в целом описано в пункте выше. Сервису аналитики нужны вообще все домены,
но кажется это нормально т.к. это сквозной сервис который объединяет все бизнес процессы. При желании аналитику тоже можно делить на более мелкие 
сервисы по группам бизнес-процессов.
4. **Разобраться, какие сервисы, кроме тудушника, будут в нашей системе и какие между ними могут быть связи (как синхронные, так и асинхронные).**
Будет четыре сервиса (в соответствии с бизнес процессами, ну и один из них аутентификация) - аутентификация, трекер, аккаунтинг и аналитика.
   * С сервисом аутентификации работа будет синхронная т.к. там надо получать данные сразу.
   * Сервис-трекер не знает про аналитику или аккаунтинг, общается только с аутентификацией, расчеты производятся не в нем.
   * Аккаунтинг может общаться со всем асинхронно потому что все что касается денег хранится в нем самом и можно данные обновлять реагируя на события.
Синхронные взаимодействия нужны только когда надо получить больше данных по идентификатору пришедшему из ивента.
   * Аналогично аналитика, может общаться со всеми асинхронно. Синхронные же взаимодействия нужны только для получения данных по айдишкам.
5. **Определить все бизнес события, необходимые для работы системы. Отобразить кто из сервисов является продьюсером, а кто консьюмером бизнес событий.**
   * *task_create* - таска создалась. Пишет трекер, читает аккаунтинг. 
   * *task_assign* - таска заассайнилась на юзера. Пишет трекер, читает аккаунтинг.
   * *task_resolve* - таска решена. Пишет трекер, читают аккаунтинг и аналитика.
   * *manager_income_by_day_change* - изменения в табличке с доходом менеджера в течение дня. Пишет аккаунтинг, читает аналитика.
   * *account_log_change* - изменения по аккаунту. Пишет аккаунтинг, читает аналитика.
6. **Выписать все CUD события и какие данные нужны для этих событий, которые необходимы для работы системы. Отобразить кто из сервисов является продьюсером, а кто консьюмером CUD событий.**
Честно говоря, не вижу в них вообще необходимости. Можно по идее считать *manager_income_by_day_change* и *account_log_change* CUD событиями, но ведь
кажется удобнее рассматривать это как бизнес события потому что это ведь не техническая какая-то деталь, а именно описание процесса происходящего с 
точки зрения того как все устроенно. И делать отдельно CUD как будто необходимости нет.